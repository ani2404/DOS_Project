<DDL>
	<Platform>
		<Type> beagleboard</Type>
		
		<Device>
			<Type>Physical</Type> 
			<Name>LightDetector</Name>
			<Id>0</Id>
			 <Properties>
			 	<Signal>
					<Type>analog</Type>
					<Mode>input</Mode>
					<Name>photoresistor</Name>
			 		<Pin></Pin>
			 	</Signal>
			 </Properties>
			 <Interface>
			 	<Topic> 
					<Name>voltreading</Name> 
					<Id>0</Id>
					<NoOfArgs>1</NoOfArgs> 
					<Type>subscribe</Type>
					<Returnvalue>int</Returnvalue>
			 		<Trigger>
			 		</Trigger>
			 		<Action>
						<Type>int</Type>
						<Output> photoresistor*1.08</Output>
						
			 		</Action>
			 	</Topic>
				 
				 
			 	<Topic>
					<Name>detectbrightlight</Name>
					<Id>1</Id>
					
			 		<Trigger>
			 			<photoresistor> greater than 5 </photoresistor>
			 		</Trigger>
			 		<Action>
						<Type>bool</Type>
			 			<Output> true</Output>
			 		</Action>
			 	</Topic>
			 </Interface>
		</Device>


		<Device>
			<Type>Physical</Type>
			<Name>TemperatureDetector</Name>
			<Id>1</Id>
			 <Properties>
			 	<Signal>
					<Type>analog</Type>
					<Mode>input</Mode>
					<Name>temperaturesensor</Name>
					
			 		<Pin></Pin>
			 	</Signal>
			 </Properties>
			 <Interface>
			 	<Topic> 
					<Name>centrigrade</Name>
					<Id></Id>
					
			 		<Action>
						<Type>int</Type>
			 			<Output>temperaturesensor*1.08</Output>
			 		</Action>
			 	</Topic>
			 	<Topic>
					<Name> detecthightemp </Name>
					<Id>0</Id>
					<Action>
						<Type>bool</Type>
			 			<Output> true</Output>
			 		</Action>
			 	</Topic>
			 </Interface>
		</Device>

		<Device>
			<Type>Physical</Type>
			<Name>WarningIndication</Name>
			<Id>2</Id>
			 <Properties>
			 	<Signal>
					<Type>digital</Type>
					<Mode>output</Mode>
					<Name>redled</Name>
			 		<Pin></Pin>
			 	</Signal>
			 	<Signal>
					<Type>digital</Type>
					<Mode>output</Mode>
					<Name>blueled</Name>
			 		<Pin></Pin>
			 	</Signal>
				<Signal>
					<Type>digital</Type>
					<Mode>output</Mode>
					<Name>greenled</Name>
			 		<Pin></Pin>
			 	</Signal>
			 </Properties>
			 <Interface>
			 	<Topic>
					<Name> default</Name>
					<Id>0</Id>
					
			 		<Trigger>
			 		</Trigger>
			 		<Action>
						<Type>bool[3]</Type>
			 			<a1>redled = bool[0]</a1>
			 			<a2>greenled = bool[1]</a2>
			 			<a3>blueled = bool[2] </a3>
			 		</Action>
			 	</Topic>
			 	<Topic> 
					<Name>alert</Name>
					<Id>1</Id>
					
			 		<Trigger>
			 		</Trigger>
			 		<Action>
						<Type>none</Type>
			 			<a1>redled = 1</a1>
			 			<a2>greenled = 0</a2>
			 		</Action>
			 	</Topic>
			 	<Topic>
					<Name> safe</Name>
					<Id>2</Id>
			 		<Trigger>
			 		</Trigger>
			 		<Action>
						<Type></Type>
			 			<a1>redled = 0</a1>
			 			<a2>greenled = 1</a2>
			 		</Action>
			 	</Topic>
			 </Interface>
		</Device>



		<Device>
			<Type>virtual</Type>
			<Name>IntrusionDetector</Name>
			<Id>3</Id>
			 <Properties>
			 	<Signal> 
					<Type>virtual</Type>
					<Mode> input</Mode>
					<Name>detectbrightlight</Name>
			 		<Pin></Pin>
			 	</Signal>
			 	<Signal>
					<Type>virtual</Type>
					<Mode>input</Mode>
					<Name>detecthightemp</Name>
			 		<Pin></Pin>
			 	</Signal>
				<Signal>
					<Type> virtual</Type>
					<Mode>output</Mode>
					<Name>alert</Name>
			 		<Pin></Pin>
			 	</Signal>
			 </Properties>
			 <Interface>
			 	<Topic>
					<Name>alert</Name>
					<Id>0</Id>
					<Subscribe>device</Subscribe>
			 		<Trigger>
			 			<condition>detectbrightlight | detecthightemp</condition>
			 		</Trigger>
			 		<Action>
						<Type>none</Type>
			 			<alert/>
			 		</Action>
			 	</Topic>
			 	<Topic>
					<Name>detectintrusion</Name>
					<Id>1</Id>
					<Subscribe>app</Subscribe>
			 		<Trigger>
			 			<condition>detectbrightlight | detecthightemp</condition>
			 		</Trigger>
			 		<Action> 
						<Type> bool</Type>
			 			<output>  true</output>
			 		</Action>
			 	</Topic>
			 </Interface>
		</Device>
	</Platform>
</DDL>